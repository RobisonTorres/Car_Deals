<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cars</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body onload = "brandSelect(filter_brand)">  
    <h2>All Cars</h2>
    <button id="clickMe">Show All Cars</button>
    <button id="addNewCar">New Car</button>
        <div>
            <table>
                <thead>
                    <tr>
                        <th>Brand</th>
                        <th>Model</th>
                        <th>Fabrication Date</th>
                        <th>Color</th>  
                        <th>Mileage</th>
                        <th>Plate</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
            </table>        
        </div>
        <div id="showAllCars"></div> <!-- Rows will be populated here by JavaScript -->
        <h2>Filter Cars</h2>
        <form>
            <div>
                <select id="filter_brand" name="filter_brand">
                    <option value="" disabled selected hidden>Brand</option>
                </select>
            </div>
            <div>
                <select id="filter_model" name="filter_model">
                    <option value="" disabled selected hidden>Model</option>
                </select>
            </div>
            <div>
                <select id="filter_status" name="filter_status">
                    <option value="" disabled selected hidden>Status</option>
                    <option value="NEW">NEW</option>
                    <option value="SECOND_HAND">SECOND_HAND</option>
                </select>
            </div>
            <div>
                <button type="submit" onclick="filterCars(event)">Filter</button>
                <button id="hideFilterResult">Close</button>
            </div>
        </form>
        <div id="showAllCarsFiltered"></div> <!-- Rows will be populated here by JavaScript -->
        <form id="popForm" style="display: none;">
            <h2>New Car</h2>
            <div>
                <label for="brand">Brand:</label>
                <select id="brand" name="brand" onchange="addNewBrand(event)">
                    <option value="">-- Select Brand --</option>
                </select>
                <input type="text" id="brandNew" name="brandNew" placeholder="Enter new brand" style="display: none;">
            </div>
            <div>
                <label for="model"> Model:</label>
                <input type="text" id="model">
            </div>
            <div>
                <label for="fabrication">Fabrication date:</label>
                <input type="number" id="fabrication" min="1900" max="2100">
            </div>
            <div>
                <label for="color">Color:</label>
                <input type="text" id="color">
            </div>
            <div>
                <label for="mileage">Mileage:</label>
                <input type="number" id="mileage" min="0">
            </div>
            <div>
                <label for="plate">Plate:</label>
                <input type="text" id="plate">
            </div>
            <div>
                <label for="price">Price:</label>
                <input type="number" min="0" id="price" name="price">
            </div>
            <div>
                <label for="status">Status:</label>
                <select id="status" name="status">
                    <option value="">-- Select Status --</option>
                    <option value="NEW">NEW</option>
                    <option value="SECOND_HAND">SECOND_HAND</option>
                </select>
            </div>
            <div>
                <button type="submit" onclick="createCar(event)">Create</button>
                <button id="closeForm">Close</button>
            </div>
        </form>     
    </div>
    <div>
        <form id="popFormUpdate" style="display: none;">
            <h2>Update Car's Info</h2>
            <input type="hidden" id="carId">
            <div>
                <label for="brand_update">Brand:</label>
                <select id="brand_update" name="brand_update" onchange="addNewBrand(event)">
                    <option value="">-- Select Brand --</option>
                </select>
                <input type="text" id="brandUpdate" name="brandUpdate" placeholder="Update brand" style="display: none;">
            </div>
            <div>
                <label for="model_update">Model:</label>
                <input type="text" id="model_update">
            </div>
            <div>
                <label for="fabrication_update">Fabrication date:</label>
                <input type="number" id="fabrication_update" min="1900" max="2100">
            </div>
            <div>
                <label for="color_update">Color:</label>
                <input type="text" id="color_update">
            </div>
            <div>
                <label for="mileage_update">Mileage:</label>
                <input type="number" id="mileage_update" min="0">
            </div>
            <div>
                <label for="plate_update">Plate:</label>
                <input type="text" id="plate_update">
            </div>
            <div>
                <label for="price_update">Price:</label>
                <input type="number" min="0" id="price_update" name="price">
            </div>
            <div>
                <label for="status_update">Status:</label>
                <select id="status_update" name="status">
                    <option value="">-- Select Status --</option>
                    <option value="NEW">NEW</option>
                    <option value="SECOND_HAND">SECOND_HAND</option>
                </select>
            </div>
            <div>
                <button type="submit" onclick="updateCar(event)">Update</button>
                <button id="closeFormUpdate">Close</button>
            </div>
        </form>
    </div>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>